# ============================================
# Django Core Settings
# ============================================
DEBUG=True
SECRET_KEY=django-insecure-change-this-in-production-xyz123abc456
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0

# ============================================
# Database Configuration
# ============================================
# MongoDB Atlas (Production) or Local (Development)
DATABASE_URL=mongodb://bookgen_admin:bookgen_password@localhost:27017/bookgen?authSource=admin

# SQLite for development (alternative)
# DATABASE_URL=sqlite:///db.sqlite3

# ============================================
# Redis Configuration
# ============================================
REDIS_URL=redis://:bookgen_redis_password@localhost:6379/0

# ============================================
# Celery Configuration
# ============================================
CELERY_BROKER_URL=redis://:bookgen_redis_password@localhost:6379/0
CELERY_RESULT_BACKEND=redis://:bookgen_redis_password@localhost:6379/0
CELERY_ACCEPT_CONTENT=json
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_TIMEZONE=UTC

# ============================================
# Email Configuration
# ============================================
# For development: console backend (prints to console)
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend

# For production: SMTP backend
# EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-specific-password
DEFAULT_FROM_EMAIL=BookGen AI <noreply@bookgen-ai.com>

# ============================================
# Cloudinary Configuration (File Storage)
# ============================================
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret
CLOUDINARY_URL=cloudinary://your-api-key:your-api-secret@your-cloud-name

# ============================================
# JWT Authentication Settings
# ============================================
JWT_ACCESS_TOKEN_LIFETIME=15  # minutes
JWT_REFRESH_TOKEN_LIFETIME=10080  # minutes (7 days)
JWT_ALGORITHM=HS256

# ============================================
# CORS Settings
# ============================================
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
CORS_ALLOW_CREDENTIALS=True

# ============================================
# Frontend URL (for email links)
# ============================================
FRONTEND_URL=http://localhost:3000

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_ENABLE=True
RATE_LIMIT_AUTH_ATTEMPTS=5
RATE_LIMIT_AUTH_WINDOW=900  # 15 minutes in seconds

# ============================================
# Security Settings (Production)
# ============================================
# SECURE_SSL_REDIRECT=True
# SESSION_COOKIE_SECURE=True
# CSRF_COOKIE_SECURE=True
# SECURE_HSTS_SECONDS=31536000
# SECURE_HSTS_INCLUDE_SUBDOMAINS=True
# SECURE_HSTS_PRELOAD=True

# ============================================
# Logging
# ============================================
LOG_LEVEL=INFO
LOG_FILE=logs/bookgen.log

# ============================================
# External Services
# ============================================
LLM_SERVICE_URL=http://localhost:8001

# ============================================
# Development Settings
# ============================================
ENABLE_DEBUG_TOOLBAR=True
ENABLE_SILK_PROFILER=False
